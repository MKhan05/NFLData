---
title: "NFLData"
author: "Navin Chandradat, Minhaz Khan, Vincent La, Truman Zheng, Stephen Pereira"
date: "11/13/2018"
output: html_document
---


## Introduction

In any professional sports league (here, being the NFL), one of the things us fans really like to do is rank players in terms of skill. 
One of the most common ways for fans to make an argument for one player being better than another is using advanced statistics, more 
specifically, comparing their player efficiency ratings (PER). This efficiency rating is calculated using the player's per game 
statistics but obviously some statistics should be weighted more than others (i.e. touchdowns should be worth more than number of 
passing attempts.). Our goal in this report is to figure out how exactly the NFL calculates player efficiency rating through the use of techniques learned within this course.


```{r}
library(tidyverse)
```


First to read in and display our data:

```{r}
my_url = "http://www.utsc.utoronto.ca/%7ebutler/c32/qbrating.txt"

qbrating = read.table(my_url, head=T)
qbrating
```

Looking at the statistics in the data frame and using our prior knowledge that the qbrating was calculated over the whole season we will only consider the season totals when running our analysis.


Steps:
-Introduction
-Adjust the units of the data before any analysis can be done (b/c its per game not per season or vice versa) *If the stat is per game multiply it by 16 to get the value for the whole season because an NFL season consists of 16 games*
-Potential Residual Plot
-Run a multiple regression
-See which variables are significant
-Run the regression again without the insignificant variables
-Summary/Conclusion



test - Vincent
test - Stephen hello world

##Plot of Stats against Rating
```{r}
qbrating %>% gather(stats,x, c(completions:sacks)) %>% 
  ggplot(aes(x=x,y=rating,color = player))+geom_point()+facet_wrap(~stats,scales = "free")
```
